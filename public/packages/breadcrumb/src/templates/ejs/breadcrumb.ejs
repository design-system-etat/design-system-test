<%#
# paramètres breadcrumb

* segments : array contenant des objets correspondant à chaque segment du fil d'Ariane
  {
    segment: partie de l'url comprise entre 2 /
    label : le label du segment
  }

%>

<% eval(include('../../../../core/index.ejs')); %>

<%
const breadcrumbId = uniqueId('breadcrumb');
%>

<nav class="<%= prefix %>-breadcrumb" aria-label="vous êtes ici :">
    <button class="<%= prefix %>-breadcrumb__button" aria-expanded="false" aria-controls="<%= breadcrumbId %>"  >Voir le fil d’Ariane</button>
    <ol class="<%= prefix %>-collapse <%= prefix %>-breadcrumb__list" id="<%= breadcrumbId %>">
        <%
            let href = locals.hashtag === true ? '#' : '';
            for (let i = 0; i < segments.length; i++) {
                href += segments[i].segment + '/';
        %>
            <% if (i === (segments.length - 1)) { %>
                <li class="<%= prefix %>-breadcrumb__item <%= prefix %>-breadcrumb__item--current" aria-current="page" >
                    <a><%= segments[i].label %></a>
                </li>
            <% } else { %>
                <li class="<%= prefix %>-breadcrumb__item" >
                    <a href="<%= href %>" ><%= segments[i].label %></a>
                </li>
            <% } %>
        <% } %>
    </ol>
</nav>
