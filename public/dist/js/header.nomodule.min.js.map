{"version":3,"file":"header.nomodule.min.js","sources":["../../packages/core/generated/scripts/config.js","../../packages/core/api.js","../../packages/header/src/scripts/header/constants.js","../../packages/header/src/scripts/header/header.js","../../packages/header/index.js","../../packages/header/src/scripts/module.js","../../packages/header/src/scripts/header/build.js"],"sourcesContent":["export const prefix = 'rf';\r\nexport const namespace = 'dsfr';\r\nexport const organisation = '@gouvfr';\r\n","import { namespace } from './generated/scripts/config.js';\n\nconst api = window[namespace] || {};\nwindow[namespace] = api;\nexport default api;\n","import api from '../../../api.js';\n\nconst HEADER_SELECTOR = api.ns.selector('header');\nconst HEADER_TOOLS_SELECTOR = api.ns.selector('header__tools');\nconst HEADER_SEARCH_BAR_SELECTOR = `${HEADER_TOOLS_SELECTOR} ${api.ns.selector('search-bar')}`;\nconst HEADER_SHORTCUTS_SELECTOR = `${HEADER_TOOLS_SELECTOR} ${api.ns.selector('shortcuts')}`;\nconst HEADER_NAV_SELECTOR = api.ns.selector('nav');\nconst HEADER_NAV_LIST_SELECTOR = `${HEADER_NAV_SELECTOR} ${api.ns.selector('nav__list')}`;\n\nexport { HEADER_SELECTOR, HEADER_TOOLS_SELECTOR, HEADER_SEARCH_BAR_SELECTOR, HEADER_SHORTCUTS_SELECTOR, HEADER_NAV_SELECTOR, HEADER_NAV_LIST_SELECTOR };\n","import {\n  HEADER_NAV_LIST_SELECTOR,\n  HEADER_NAV_SELECTOR,\n  HEADER_SEARCH_BAR_SELECTOR,\n  HEADER_SELECTOR,\n  HEADER_SHORTCUTS_SELECTOR,\n  HEADER_TOOLS_SELECTOR\n} from './constants';\n\nlet count = 0;\n\nclass Header {\n  constructor (header) {\n    this.header = header || document.querySelector(HEADER_SELECTOR);\n    this.numId = count;\n    count++;\n\n    this.init();\n  }\n\n  init () {\n    this.popins = [];\n\n    this.tools = this.header.querySelector(HEADER_TOOLS_SELECTOR);\n\n    this.searchBar = this.header.querySelector(HEADER_SEARCH_BAR_SELECTOR);\n\n    this.nav = this.header.querySelector(HEADER_NAV_SELECTOR);\n\n    this.shortcuts = this.header.querySelector(HEADER_SHORTCUTS_SELECTOR);\n\n    this.navList = this.header.querySelector(HEADER_NAV_LIST_SELECTOR);\n\n    this.changing = this.change.bind(this);\n\n    window.addEventListener('resize', this.changing);\n    window.addEventListener('orientationchange', this.changing);\n    this.change();\n  }\n\n  change () {\n    this.isLarge = window.matchMedia('(min-width: 62em)').matches;\n\n    for (let i = 0; i < this.popins.length; i++) this.popins[i].change(this.isLarge);\n\n    if (this.shortcuts !== null) {\n      if (this.isLarge) {\n        if (this.searchBar !== null) this.tools.insertBefore(this.shortcuts, this.searchBar);\n        else this.tools.appendChild(this.shortcuts);\n      } else {\n        this.nav.insertBefore(this.shortcuts, this.navList);\n      }\n    }\n  }\n}\n\nexport { Header };\n","import api from './api.js';\nimport { Header } from './src/scripts/header/header';\n\napi.Header = Header;\n","/* eslint-disable no-new */\nimport api from '../../api.js';\nimport { HEADER_SELECTOR } from './header/constants.js';\nimport { build } from './header/build.js';\n\nnew api.Initializer(HEADER_SELECTOR, [build]);\n","import { Header } from './header.js';\nimport { HEADER_SELECTOR } from './constants';\n\nconst build = () => {\n  const elements = Array.prototype.slice.call(document.querySelectorAll(HEADER_SELECTOR));\n\n  const headers = [];\n\n  for (const element of elements) headers.push(new Header(element));\n};\n\nexport { build };\n"],"names":["const","api","window","HEADER_SELECTOR","ns","selector","HEADER_TOOLS_SELECTOR","HEADER_SEARCH_BAR_SELECTOR","HEADER_SHORTCUTS_SELECTOR","HEADER_NAV_SELECTOR","HEADER_NAV_LIST_SELECTOR","count","Header","header","this","document","querySelector","numId","init","popins","tools","searchBar","nav","shortcuts","navList","changing","change","bind","addEventListener","isLarge","matchMedia","matches","let","i","length","insertBefore","appendChild","Initializer","headers","Array","prototype","slice","call","querySelectorAll","element","push"],"mappings":";yBACOA,ICCDC,EAAMC,OAAgB,MAAK,GACjCA,OAAgB,KAAID,ECDpBD,IAAMG,EAAkBF,EAAIG,GAAGC,SAAS,UAClCC,EAAwBL,EAAIG,GAAGC,SAAS,iBACxCE,EAAgCD,MAAyBL,EAAIG,GAAGC,SAAS,cACzEG,EAA+BF,MAAyBL,EAAIG,GAAGC,SAAS,aACxEI,EAAsBR,EAAIG,GAAGC,SAAS,OACtCK,EAA8BD,MAAuBR,EAAIG,GAAGC,SAAS,aCEvEM,EAAQ,EAENC,EACJ,SAAaC,GACXC,KAAKD,OAASA,GAAUE,SAASC,cAAcb,GAC/CW,KAAKG,MAAQN,EACbA,IAEAG,KAAKI,oBAGPA,gBACEJ,KAAKK,OAAS,GAEdL,KAAKM,MAAQN,KAAKD,OAAOG,cAAcV,GAEvCQ,KAAKO,UAAYP,KAAKD,OAAOG,cAAcT,GAE3CO,KAAKQ,IAAMR,KAAKD,OAAOG,cAAcP,GAErCK,KAAKS,UAAYT,KAAKD,OAAOG,cAAcR,GAE3CM,KAAKU,QAAUV,KAAKD,OAAOG,cAAcN,GAEzCI,KAAKW,SAAWX,KAAKY,OAAOC,KAAKb,MAEjCZ,OAAO0B,iBAAiB,SAAUd,KAAKW,UACvCvB,OAAO0B,iBAAiB,oBAAqBd,KAAKW,UAClDX,KAAKY,sBAGPA,kBACEZ,KAAKe,QAAU3B,OAAO4B,WAAW,qBAAqBC,QAEtD,IAAKC,IAAIC,EAAI,EAAGA,EAAInB,KAAKK,OAAOe,OAAQD,IAAKnB,KAAKK,OAAOc,GAAGP,OAAOZ,KAAKe,SAEjD,OAAnBf,KAAKS,YACHT,KAAKe,QACgB,OAAnBf,KAAKO,UAAoBP,KAAKM,MAAMe,aAAarB,KAAKS,UAAWT,KAAKO,WACrEP,KAAKM,MAAMgB,YAAYtB,KAAKS,WAEjCT,KAAKQ,IAAIa,aAAarB,KAAKS,UAAWT,KAAKU,WC/CnDvB,EAAIW,OAASA,ECEb,IAAIX,EAAIoC,YAAYlC,EAAiB,YCGnC,IAJAH,IAEMsC,EAAU,SAFCC,MAAMC,UAAUC,MAAMC,KAAK3B,SAAS4B,iBAAiBxC,qBAIjEH,IAAM4C,OAAqBN,EAAQO,KAAK,IAAIjC,EAAOgC"}