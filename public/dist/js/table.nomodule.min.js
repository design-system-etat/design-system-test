/*! DSFR v0.5.5 | licence MIT */
!function(){"use strict";var t=window.dsfr||{};window.dsfr=t;var e=t.ns.selector("table"),i=t.ns.selector("table")+":not("+t.ns.selector("table--no-scroll")+")",s="left",o="right",l=t.ns("table--shadow"),a=t.ns("table--shadow-left"),n=t.ns("table--shadow-right"),h=t.ns("table__wrapper"),r=function(t){this.init(t)};r.prototype.init=function(t){this.table=t,this.tableElem=this.table.querySelector("table"),this.tableContent=this.tableElem.querySelector("tbody"),this.isScrollable=this.tableContent.offsetWidth>this.tableElem.offsetWidth,this.caption=this.tableElem.querySelector("caption"),this.captionHeight=0,this.wrap();var e=this.change.bind(this);this.tableElem.addEventListener("scroll",e),this.change()},r.prototype.change=function(){var t=this.tableContent.offsetWidth>this.tableElem.offsetWidth,e=this.tableElem.offsetWidth>this.table.offsetWidth;t||e?(this.scroll(),this.handleCaption()):t!==this.isScrollable&&this.delete(),this.isScrollable=t,e=!1},r.prototype.delete=function(){t.removeClass(this.table,n),t.removeClass(this.table,a),t.removeClass(this.table,l),this.caption&&(this.tableElem.style.marginTop="",this.caption.style.top="",this.tableElem.style.marginBottom="",this.caption.style.bottom="")},r.prototype.scroll=function(){t.addClass(this.table,l),this.setShadowPosition()},r.prototype.wrap=function(){var t=document.createElement("div");t.className=h,this.table.insertBefore(t,this.tableElem),t.appendChild(this.tableElem),this.tableInnerWrapper=t},r.prototype.setShadowPosition=function(){var t=this.getScrollPosition(s),e=this.getScrollPosition(o);"rtl"===document.documentElement.getAttribute("dir")?(this.setShadowVisibility(o,t),this.setShadowVisibility(s,e)):(this.setShadowVisibility(s,t),this.setShadowVisibility(o,e))},r.prototype.getScrollPosition=function(t){var e=1;switch("rtl"===document.documentElement.getAttribute("dir")&&(e=-1),t){case s:return this.tableElem.scrollLeft*e;case o:return this.tableContent.offsetWidth-this.tableElem.offsetWidth-this.tableElem.scrollLeft*e;default:return!1}},r.prototype.handleCaption=function(){if(this.caption){var t=getComputedStyle(this.caption),e=this.caption.offsetHeight+parseInt(t.marginTop)+parseInt(t.marginBottom);this.captionHeight=e,this.table.classList.contains("table--caption-bottom")?(this.tableElem.style.marginBottom=this.captionHeight+"px",this.caption.style.bottom=-this.captionHeight+"px"):(this.tableElem.style.marginTop=this.captionHeight+"px",this.caption.style.top=-this.captionHeight+"px")}},r.prototype.setShadowVisibility=function(e,i){i<=1?e===s?t.removeClass(this.table,a):e===o&&t.removeClass(this.table,n):e===s?t.addClass(this.table,a):e===o&&t.addClass(this.table,n)},t.Table=r;var c=[],b=function(){for(var t=0;t<c.length;t++)c[t].change()};new t.Initializer(e,[function(){for(var t=document.querySelectorAll(i),e=0;e<t.length;e++)c.push(new r(t[e]));window.addEventListener("resize",b),window.addEventListener("orientationchange",b),b()}])}();
//# sourceMappingURL=table.nomodule.min.js.map
