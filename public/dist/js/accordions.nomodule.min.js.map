{"version":3,"file":"accordions.nomodule.min.js","sources":["../../packages/core/generated/scripts/config.js","../../packages/core/api.js","../../packages/accordions/src/scripts/accordion/constants.js","../../packages/accordions/src/scripts/accordion/accordions-group.js","../../packages/accordions/index.js","../../packages/accordions/src/scripts/module.js"],"sourcesContent":["export const prefix = 'rf';\r\nexport const namespace = 'dsfr';\r\nexport const organisation = '@gouvfr';\r\n","import { namespace } from './generated/scripts/config.js';\n\nconst api = window[namespace] || {};\nwindow[namespace] = api;\nexport default api;\n","import api from '../../../api.js';\n\nconst ACCORDIONS_GROUP = api.ns('accordions-group');\nconst ACCORDION_ASCENDANT = api.ns('accordion');\n\nexport { ACCORDIONS_GROUP, ACCORDION_ASCENDANT };\n","import api from '../../../api.js';\nimport { ACCORDIONS_GROUP } from './constants.js';\n\nclass AccordionsGroup extends api.CollapsesGroup {\n  // constructor (id, element) {\n  //   super(id, element);\n  //   // this._attachEvents();\n  // }\n\n  _attachEvents () {\n    this.keyEvents = new api.KeyListener(this.element);\n    this.keyEvents.down(api.KeyListener.DOWN, this.arrowDownPress.bind(this), true, true);\n    this.keyEvents.down(api.KeyListener.UP, this.arrowUpPress.bind(this), true, true);\n    this.keyEvents.down(api.KeyListener.HOME, this.homePress.bind(this), true, true);\n    this.keyEvents.down(api.KeyListener.END, this.endPress.bind(this), true, true);\n  }\n\n  get focusIndex () {\n    for (let i = 0; i < this.members.length; i++) if (this.members[i].buttonHasFocus) return i;\n    return -1;\n  }\n\n  /**\n   * Selectionne l'element suivant de la liste si on est sur un bouton\n   * Si on est à la fin on retourne au début\n   */\n  arrowDownPress () {\n    let index = this.focusIndex;\n    if (index === -1) return;\n    index++;\n    if (index >= this.length) index = 0;\n    this.members[index].focus();\n  };\n\n  /**\n   * Selectionne l'element précédent de la liste si on est sur un bouton\n   * Si on est au debut retourne a la fin\n   */\n  arrowUpPress () {\n    let index = this.focusIndex;\n    if (index === -1) return;\n    index--;\n    if (index < 0) index = this.length - 1;\n    this.members[index].focus();\n  };\n\n  /**\n   * Selectionne le permier element de la liste si on est sur un bouton\n   */\n  homePress () {\n    if (this.focusIndex === -1) return;\n    this.members[0].focus();\n  };\n\n  /**\n   * Selectionne le dernier element de la liste si on est sur un bouton\n   */\n  endPress () {\n    if (this.focusIndex === -1) return;\n    this.members[this.length - 1].focus();\n  };\n\n  static get selector () { return ACCORDIONS_GROUP; }\n\n  apply () {\n    super.apply();\n    if (this.current !== null) this.current.focus();\n  }\n}\n\nexport { AccordionsGroup };\n","import api from './api.js';\nimport { AccordionsGroup } from './src/scripts/accordion/accordions-group.js';\n\napi.AccordionsGroup = AccordionsGroup;\n","import api from '../../api.js';\nimport { ACCORDION_ASCENDANT } from './accordion/constants.js';\nimport { AccordionsGroup } from './accordion/accordions-group.js';\n\napi.CollapsesGroup.register(ACCORDION_ASCENDANT, AccordionsGroup);\n"],"names":["const","api","window","ACCORDIONS_GROUP","ns","ACCORDION_ASCENDANT","AccordionsGroup","_attachEvents","this","keyEvents","KeyListener","element","down","DOWN","arrowDownPress","bind","UP","arrowUpPress","HOME","homePress","END","endPress","prototypeAccessors","focusIndex","let","i","members","length","buttonHasFocus","index","focus","staticAccessors","selector","apply","super","current","CollapsesGroup","register"],"mappings":";yBACOA,ICCDC,EAAMC,OAAgB,MAAK,GACjCA,OAAgB,KAAID,ECDpBD,IAAMG,EAAmBF,EAAIG,GAAG,oBAC1BC,EAAsBJ,EAAIG,GAAG,aCA7BE,iOAMJC,yBACEC,KAAKC,UAAY,IAAIR,EAAIS,YAAYF,KAAKG,SAC1CH,KAAKC,UAAUG,KAAKX,EAAIS,YAAYG,KAAML,KAAKM,eAAeC,KAAKP,OAAO,GAAM,GAChFA,KAAKC,UAAUG,KAAKX,EAAIS,YAAYM,GAAIR,KAAKS,aAAaF,KAAKP,OAAO,GAAM,GAC5EA,KAAKC,UAAUG,KAAKX,EAAIS,YAAYQ,KAAMV,KAAKW,UAAUJ,KAAKP,OAAO,GAAM,GAC3EA,KAAKC,UAAUG,KAAKX,EAAIS,YAAYU,IAAKZ,KAAKa,SAASN,KAAKP,OAAO,GAAM,IAG3Ec,EAAIC,0BACF,IAAKC,IAAIC,EAAI,EAAGA,EAAIjB,KAAKkB,QAAQC,OAAQF,IAAK,GAAIjB,KAAKkB,QAAQD,GAAGG,eAAgB,OAAOH,EACzF,OAAQ,eAOVX,0BACEU,IAAIK,EAAQrB,KAAKe,YACF,IAAXM,MACJA,GACarB,KAAKmB,SAAQE,EAAQ,GAClCrB,KAAKkB,QAAQG,GAAOC,sBAOtBb,wBACEO,IAAIK,EAAQrB,KAAKe,YACF,IAAXM,MACJA,EACY,IAAGA,EAAQrB,KAAKmB,OAAS,GACrCnB,KAAKkB,QAAQG,GAAOC,sBAMtBX,sBAC2B,IAArBX,KAAKe,YACTf,KAAKkB,QAAQ,GAAGI,qBAMlBT,qBAC2B,IAArBb,KAAKe,YACTf,KAAKkB,QAAQlB,KAAKmB,OAAS,GAAGG,SAGhCC,EAAWC,wBAAc,OAAO7B,eAEhC8B,iBACEC,YAAMD,iBACe,OAAjBzB,KAAK2B,SAAkB3B,KAAK2B,QAAQL,gFA/Dd7B,EAAImC,gBCAlCnC,EAAIK,gBAAkBA,ECCtBL,EAAImC,eAAeC,SAAShC,EAAqBC"}