{"version":3,"file":"accordions.nomodule.js","sources":["../../packages/core/generated/scripts/config.js","../../packages/core/api.js","../../packages/accordions/src/scripts/accordion/constants.js","../../packages/accordions/src/scripts/accordion/accordions-group.js","../../packages/accordions/index.js","../../packages/accordions/src/scripts/module.js"],"sourcesContent":["export const prefix = 'rf';\r\nexport const namespace = 'dsfr';\r\nexport const organisation = '@gouvfr';\r\n","import { namespace } from './generated/scripts/config.js';\n\nconst api = window[namespace] || {};\nwindow[namespace] = api;\nexport default api;\n","import api from '../../../api.js';\n\nconst ACCORDIONS_GROUP = api.ns('accordions-group');\nconst ACCORDION_ASCENDANT = api.ns('accordion');\n\nexport { ACCORDIONS_GROUP, ACCORDION_ASCENDANT };\n","import api from '../../../api.js';\nimport { ACCORDIONS_GROUP } from './constants.js';\n\nclass AccordionsGroup extends api.CollapsesGroup {\n  // constructor (id, element) {\n  //   super(id, element);\n  //   // this._attachEvents();\n  // }\n\n  _attachEvents () {\n    this.keyEvents = new api.KeyListener(this.element);\n    this.keyEvents.down(api.KeyListener.DOWN, this.arrowDownPress.bind(this), true, true);\n    this.keyEvents.down(api.KeyListener.UP, this.arrowUpPress.bind(this), true, true);\n    this.keyEvents.down(api.KeyListener.HOME, this.homePress.bind(this), true, true);\n    this.keyEvents.down(api.KeyListener.END, this.endPress.bind(this), true, true);\n  }\n\n  get focusIndex () {\n    for (let i = 0; i < this.members.length; i++) if (this.members[i].buttonHasFocus) return i;\n    return -1;\n  }\n\n  /**\n   * Selectionne l'element suivant de la liste si on est sur un bouton\n   * Si on est à la fin on retourne au début\n   */\n  arrowDownPress () {\n    let index = this.focusIndex;\n    if (index === -1) return;\n    index++;\n    if (index >= this.length) index = 0;\n    this.members[index].focus();\n  };\n\n  /**\n   * Selectionne l'element précédent de la liste si on est sur un bouton\n   * Si on est au debut retourne a la fin\n   */\n  arrowUpPress () {\n    let index = this.focusIndex;\n    if (index === -1) return;\n    index--;\n    if (index < 0) index = this.length - 1;\n    this.members[index].focus();\n  };\n\n  /**\n   * Selectionne le permier element de la liste si on est sur un bouton\n   */\n  homePress () {\n    if (this.focusIndex === -1) return;\n    this.members[0].focus();\n  };\n\n  /**\n   * Selectionne le dernier element de la liste si on est sur un bouton\n   */\n  endPress () {\n    if (this.focusIndex === -1) return;\n    this.members[this.length - 1].focus();\n  };\n\n  static get selector () { return ACCORDIONS_GROUP; }\n\n  apply () {\n    super.apply();\n    if (this.current !== null) this.current.focus();\n  }\n}\n\nexport { AccordionsGroup };\n","import api from './api.js';\nimport { AccordionsGroup } from './src/scripts/accordion/accordions-group.js';\n\napi.AccordionsGroup = AccordionsGroup;\n","import api from '../../api.js';\nimport { ACCORDION_ASCENDANT } from './accordion/constants.js';\nimport { AccordionsGroup } from './accordion/accordions-group.js';\n\napi.CollapsesGroup.register(ACCORDION_ASCENDANT, AccordionsGroup);\n"],"names":["const","let","super"],"mappings":"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"}