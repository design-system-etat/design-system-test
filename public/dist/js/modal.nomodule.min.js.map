{"version":3,"file":"modal.nomodule.min.js","sources":["../../packages/core/generated/scripts/config.js","../../packages/core/api.js","../../packages/modal/src/scripts/modal/constants.js","../../packages/modal/src/scripts/modal/focus-trap.js","../../packages/modal/src/scripts/modal/modals-group.js","../../packages/modal/src/scripts/modal/modal-button.js","../../packages/modal/src/scripts/modal/modal.js","../../packages/modal/index.js","../../packages/modal/src/scripts/module.js","../../packages/modal/src/scripts/modal/build.js"],"sourcesContent":["export const prefix = 'rf';\r\nexport const namespace = 'dsfr';\r\nexport const organisation = '@gouvfr';\r\n","import { namespace } from './generated/scripts/config.js';\n\nconst api = window[namespace] || {};\nwindow[namespace] = api;\nexport default api;\n","import api from '../../../api.js';\n\nconst MODAL_SELECTOR = api.ns.selector('modal');\nconst MODAL_CLASS = api.ns('modal');\nconst NO_SCROLL_CLASS = api.ns('no-scroll');\nconst SCROLL_SHADOW_CLASS = api.ns('scroll-shadow');\nconst MODAL_BODY_SELECTOR = api.ns.selector('modal__body');\nconst OFFSET_MOBILE = 32; // 32px => 8v => 2rem\n\nexport { MODAL_SELECTOR, MODAL_CLASS, NO_SCROLL_CLASS, SCROLL_SHADOW_CLASS, MODAL_BODY_SELECTOR, OFFSET_MOBILE };\n","import api from '../../../api.js';\n\nconst unordereds = [\n  '[tabindex=\"0\"]',\n  'a[href]',\n  'button:not([disabled])',\n  'input:not([disabled])',\n  'select:not([disabled])',\n  'textarea:not([disabled])',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\" i])',\n  'details>summary:first-of-type',\n  'details'\n];\n\nconst UNORDEREDS = unordereds.join();\n\nconst ordereds = [\n  '[tabindex]:not([tabindex=\"-1\"]):not([tabindex=\"0\"])'\n];\n\nconst ORDEREDS = ordereds.join();\n\nconst isFocusable = (element, container) => {\n  if (window.getComputedStyle(element).visibility === 'hidden') return false;\n  if (container === undefined) container = element;\n\n  while (container.contains(element)) {\n    if (window.getComputedStyle(element).display === 'none') return false;\n    element = element.parentElement;\n  }\n\n  return true;\n};\n\nclass FocusTrap {\n  constructor (onTrap, onUntrap) {\n    this.element = null;\n    this.activeElement = null;\n    this.onTrap = onTrap;\n    this.onUntrap = onUntrap;\n    this.waiting = this.wait.bind(this);\n    this.handling = this.handle.bind(this);\n    this.current = null;\n  }\n\n  get trapped () { return this.element !== null; }\n\n  trap (element) {\n    if (this.trapped) this.untrap();\n\n    this.element = element;\n    this.isTrapping = true;\n    this.wait();\n\n    if (this.onTrap) this.onTrap();\n  }\n\n  wait () {\n    if (!isFocusable(this.element)) {\n      api.engine.renderer.next(this.waiting);\n      return;\n    }\n\n    this.trapping();\n  }\n\n  trapping () {\n    if (!this.isTrapping) return;\n    this.isTrapping = false;\n    const focusables = this.focusables;\n    if (focusables.length) focusables[0].focus();\n    this.element.setAttribute('aria-modal', true);\n    this.element.addEventListener('keydown', this.handling);\n\n    this.stunneds = [];\n    this.stun(document.body);\n  }\n\n  stun (node) {\n    for (const child of node.children) {\n      if (child === this.element) continue;\n      if (child.contains(this.element)) {\n        this.stun(child);\n        continue;\n      }\n      this.stunneds.push(new Stunned(child));\n    }\n  }\n\n  handle (e) {\n    if (e.keyCode !== 9) return;\n\n    const focusables = this.focusables;\n    if (focusables.length === 0) return;\n\n    const first = focusables[0];\n    const last = focusables[focusables.length - 1];\n\n    const index = focusables.indexOf(document.activeElement);\n\n    if (e.shiftKey) {\n      if (!this.element.contains(document.activeElement) || index < 1) {\n        e.preventDefault();\n        last.focus();\n      } else if (document.activeElement.tabIndex > 0 || focusables[index - 1].tabIndex > 0) {\n        e.preventDefault();\n        focusables[index - 1].focus();\n      }\n    } else {\n      if (!this.element.contains(document.activeElement) || index === focusables.length - 1 || index === -1) {\n        e.preventDefault();\n        first.focus();\n      } else if (document.activeElement.tabIndex > 0) {\n        e.preventDefault();\n        focusables[index + 1].focus();\n      }\n    }\n  }\n\n  get focusables () {\n    let unordereds = [...this.element.querySelectorAll(UNORDEREDS)];\n\n    /**\n     *  filtrage des radiobutttons dans des fieldset (la navigations d'un groupe de radio se fait à la flèche et non pas au tab\n     **/\n    const fieldsets = [...this.element.querySelectorAll('fieldset')];\n    let radios = [];\n\n    for (const fieldset of fieldsets) {\n      // eslint-disable-next-line no-useless-call\n      if ([...fieldset.querySelectorAll('input[type=\"radio\"]:focus')].length) radios = radios.concat([...fieldset.querySelectorAll('input[type=\"radio\"]:not(:focus)')]);\n      else if ([...fieldset.querySelectorAll('input[type=\"radio\"]:checked')].length) radios = radios.concat([...fieldset.querySelectorAll('input[type=\"radio\"]:not(:checked)')]);\n      else radios = radios.concat([...fieldset.querySelectorAll('input[type=\"radio\"]')].splice(0, 1));\n    }\n    unordereds = unordereds.filter((unordered) => {\n      return radios.indexOf(unordered) === -1;\n    });\n\n    const ordereds = [...this.element.querySelectorAll(ORDEREDS)];\n\n    ordereds.sort((a, b) => a.tabIndex - b.tabIndex);\n\n    const noDuplicates = unordereds.filter((element) => ordereds.indexOf(element) === -1);\n    const concateneds = ordereds.concat(noDuplicates);\n    const filtereds = concateneds.filter((element) => element.tabIndex !== '-1' && isFocusable(element, this.element));\n\n    return filtereds;\n  }\n\n  untrap () {\n    if (!this.trapped) return;\n    this.isTrapping = false;\n\n    this.element.removeAttribute('aria-modal');\n    this.element.removeEventListener('keydown', this.handling);\n    this.element = null;\n\n    for (const stunned of this.stunneds) stunned.unstun();\n    this.stunneds = [];\n\n    if (this.onUntrap) this.onUntrap();\n  }\n}\n\nclass Stunned {\n  constructor (element) {\n    this.element = element;\n    this.hidden = element.getAttribute('aria-hidden');\n    this.inert = element.getAttribute('inert');\n\n    this.element.setAttribute('aria-hidden', true);\n    this.element.setAttribute('inert', '');\n  }\n\n  unstun () {\n    if (this.hidden === null) this.element.removeAttribute('aria-hidden');\n    else this.element.setAttribute('aria-hidden', this.hidden);\n\n    if (this.inert === null) this.element.removeAttribute('inert');\n    else this.element.setAttribute('inert', this.inert);\n  }\n}\n\nexport { FocusTrap };\n","import api from '../../../api.js';\nimport { FocusTrap } from './focus-trap.js';\n\nclass ModalsGroup extends api.DisclosuresGroup {\n  constructor () {\n    super();\n    this.trap = new FocusTrap();\n  }\n\n  apply (value, initial) {\n    super.apply(value, initial);\n    if (this.current === null) this.trap.untrap();\n    else this.trap.trap(this.current.element);\n  }\n}\n\nexport { ModalsGroup };\n","import api from '../../../api.js';\n\nclass ModalButton extends api.DisclosureButton {\n  /**\n   * TODO: https://a11ysupport.io/tech/aria/aria-haspopup_attribute\n   */\n  apply (value) {\n    super.apply(value);\n    // if (!this.hasAttribute) return;\n    // this.element.setAttribute(this.disclosure.attributeName, value);\n  }\n}\n\nexport { ModalButton };\n","import api from '../../../api.js';\nimport {\n  OFFSET_MOBILE,\n  NO_SCROLL_CLASS,\n  MODAL_CLASS,\n  SCROLL_SHADOW_CLASS,\n  MODAL_BODY_SELECTOR\n} from './constants';\nimport { ModalsGroup } from './modals-group';\nimport { ModalButton } from './modal-button';\n\nconst group = new ModalsGroup();\n\nclass Modal extends api.Disclosure {\n  constructor (element) {\n    super(element);\n    this.body = this.element.querySelector(MODAL_BODY_SELECTOR);\n    this.scrollDistance = 0;\n    this.scrolling = this.resize.bind(this, false);\n    this.resizing = this.resize.bind(this, true);\n    this.listen();\n    this.resize(true);\n  }\n\n  listen () {\n    this.element.addEventListener('click', this.click.bind(this));\n\n    this.keyListener = new api.KeyListener(this.element);\n    this.keyListener.down(api.KeyListener.ESCAPE, this.conceal.bind(this), true, true);\n\n    if (this.body) {\n      this.body.addEventListener('scroll', this.scrolling);\n      window.addEventListener('resize', this.resizing);\n      window.addEventListener('orientationchange', this.resizing);\n    }\n  }\n\n  click (e) {\n    if (this.body && this.element === e.target) this.conceal();\n  }\n\n  group () {\n    group.add(this);\n  }\n\n  apply (value, initial) {\n    this.handleScroll(!value);\n    if (!value) {\n      if (!initial) this.focus();\n    } else {\n      if (!initial) this.resize(true);\n    }\n    super.apply(value, initial);\n  }\n\n  /**\n   * Fixe l'arrière plan quand la modal est ouverte\n   */\n  // TODO: créer une fonction de fix de scroll dans core (api.noScroll = true)\n  handleScroll (isScrollable) {\n    if (isScrollable) {\n      api.removeClass(document.documentElement, NO_SCROLL_CLASS);\n      document.body.style.top = '';\n      window.scroll(0, this.scrollDistance);\n    } else {\n      if (!document.documentElement.classList.contains(NO_SCROLL_CLASS)) {\n        this.scrollDistance = window.scrollY;\n      }\n      document.body.style.top = this.scrollDistance * -1 + 'px';\n      api.addClass(document.documentElement, NO_SCROLL_CLASS);\n    }\n  }\n\n  /**\n   * Ajoute une ombre autour du footer lorsque l'on peut scroller dans la modale\n   * corrige le 100vh, en mobile notamment, lorsque la barre navigateur est présente par exemple.\n   */\n  resize (isResizing, e) {\n    if (!this.body) return;\n    if (this.body.scrollHeight > this.body.clientHeight) {\n      if (this.body.offsetHeight + this.body.scrollTop >= this.body.scrollHeight) {\n        api.removeClass(this.body, SCROLL_SHADOW_CLASS);\n      } else {\n        api.addClass(this.body, SCROLL_SHADOW_CLASS);\n      }\n    } else {\n      api.removeClass(this.body, SCROLL_SHADOW_CLASS);\n    }\n\n    if (isResizing) {\n      this.body.style.maxHeight = (window.innerHeight - OFFSET_MOBILE) + 'px';\n\n      // Une deuxième fois après positionnement des barres du navigateur (ios)\n      // TODO: à tester si fonctionnel sans setTimeout\n      requestAnimationFrame(() => {\n        this.body.style.maxHeight = (window.innerHeight - OFFSET_MOBILE) + 'px';\n      });\n    }\n  }\n\n  static get type () { return api.DISCLOSURE_TYPES.expand; }\n  static get selector () { return MODAL_CLASS; }\n\n  buttonFactory (element) {\n    return new ModalButton(element, this);\n  }\n\n  get GroupConstructor () { return ModalsGroup; }\n}\n\nexport { Modal };\n","import api from './api.js';\n\nimport { Modal } from './src/scripts/modal/modal';\nimport { ModalButton } from './src/scripts/modal/modal-button';\nimport { ModalsGroup } from './src/scripts/modal/modals-group';\nimport { FocusTrap } from './src/scripts/modal/focus-trap';\n\napi.Modal = Modal;\napi.ModalButton = ModalButton;\napi.ModalsGroup = ModalsGroup;\napi.FocusTrap = FocusTrap;\n","/* eslint-disable no-new */\nimport api from '../../api.js';\nimport { build } from './modal/build.js';\nimport { MODAL_SELECTOR } from './modal/constants.js';\n\nnew api.Initializer(MODAL_SELECTOR, [build]);\n","import { Modal } from './modal';\n\n/**\n * initialise tout les éléments Modal dans la page\n */\nconst build = () => {\n  Modal.build(document);\n};\n\nexport { build };\n"],"names":["const","api","window","MODAL_SELECTOR","ns","selector","MODAL_CLASS","NO_SCROLL_CLASS","SCROLL_SHADOW_CLASS","MODAL_BODY_SELECTOR","UNORDEREDS","join","ORDEREDS","isFocusable","element","container","getComputedStyle","visibility","undefined","contains","display","parentElement","FocusTrap","onTrap","onUntrap","this","activeElement","waiting","wait","bind","handling","handle","current","prototypeAccessors","trapped","trap","untrap","isTrapping","trapping","engine","renderer","next","focusables","length","focus","setAttribute","addEventListener","stunneds","stun","document","body","node","children","child","push","Stunned","e","keyCode","first","last","index","indexOf","shiftKey","preventDefault","tabIndex","unordereds","querySelectorAll","fieldsets","radios","fieldset","concat","splice","filter","unordered","ordereds","sort","a","b","noDuplicates","removeAttribute","removeEventListener","unstun","hidden","getAttribute","inert","ModalsGroup","super","apply","value","initial","DisclosuresGroup","ModalButton","DisclosureButton","group","Modal","querySelector","scrollDistance","scrolling","resize","resizing","listen","click","keyListener","KeyListener","down","ESCAPE","conceal","target","add","handleScroll","isScrollable","removeClass","documentElement","style","top","scroll","classList","scrollY","addClass","isResizing","scrollHeight","clientHeight","offsetHeight","scrollTop","maxHeight","innerHeight","requestAnimationFrame","staticAccessors","type","DISCLOSURE_TYPES","expand","buttonFactory","GroupConstructor","Disclosure","Initializer","build"],"mappings":"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"}