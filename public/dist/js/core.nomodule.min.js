/*! DSFR v0.5.5 | licence MIT */
!function(){"use strict";var t=window.dsfr||{};window.dsfr=t;var e=function(t){return"rf-"+t};e.selector=function(t,n){return void 0===n&&(n="."),""+n+e(t)},(e.attr=function(t,n,i){return"data-"+e(t)}).selector=function(t,n){var i=e.attr(t);return void 0!==n&&(i+='="'+n+'"'),"["+i+"]"};var n=function(t,e,n){"."===e.charAt(0)&&(e=e.substr(1));var i=t.className.split(" "),s=i.indexOf(e);!0===n?s>-1&&i.splice(s,1):-1===s&&i.push(e),t.className=i.join(" ")},i=function(t,e){return n(t,e)},s=function(t,e){return n(t,e,!0)},r=function(){this.closures=[],this.nexts=[],this.rendering=this.render.bind(this),this.render()};r.prototype.add=function(t){var e=this;this.closures.push(t);return function(){var n=e.closures.indexOf(t);-1!==n&&e.closures.splice(n,1)}},r.prototype.next=function(t){this.nexts.push(t)},r.prototype.render=function(){window.requestAnimationFrame(this.rendering);for(var t=0,e=this.closures;t<e.length;t+=1){e[t].call()}var n=this.nexts.slice();this.nexts.length=0;for(var i=0,s=n;i<s.length;i+=1){s[i].call()}};var o=function(){this.renderer=new r};o.prototype.register=function(t,e){},o.prototype.start=function(){},o.prototype.stop=function(){};var u=new o,c=function(t,e){this.selector=t,this.builders=e,this.instances=[],"loading"!==document.readyState?window.requestAnimationFrame(this.start.bind(this)):document.addEventListener("DOMContentLoaded",this.start.bind(this))};c.prototype.start=function(){if(!(this.instances.length>0)&&document.querySelectorAll(this.selector).length>0)for(var t=0;t<this.builders.length;t++)this.instances.push(this.builders[t]())};var h=function(t){this.element=t,this.collections={}};h.prototype._add=function(t,e){void 0===this.collections[t]&&(this.collections[t]=new a(t,this.element)),this.collections[t].add(e)},h.prototype.down=function(t,e,n,i){this._add("down",new l(t,e,n,i))},h.prototype.up=function(t,e,n,i){this._add("up",new l(t,e,n,i))},h.prototype.dispose=function(){for(var t=0,e=this.collections;t<e.length;t+=1){e[t].dispose()}this.types=null};var a=function(t,e){this.type=t,this.element=e,this.actions=[],this.binding=this.handle.bind(this),this.element.addEventListener("key"+t,this.binding)};a.prototype.add=function(t){this.actions.push(t)},a.prototype.handle=function(t){for(var e=0,n=this.actions;e<n.length;e+=1){n[e].handle(t)}},a.prototype.dispose=function(){this.element.removeEventListener("key"+this.type,this.binding),this.actions=null};var l=function(t,e,n,i){this.key=t,this.closure=e,this.preventDefault=!0===n,this.stopPropagation=!0===i};l.prototype.handle=function(t){t.keyCode===this.key&&(this.closure(t),this.preventDefault&&t.preventDefault(),this.stopPropagation&&t.stopPropagation())},h.TAB=9,h.ESCAPE=27,h.END=35,h.HOME=36,h.LEFT=37,h.UP=38,h.RIGHT=39,h.DOWN=40;var p=e.attr("group"),d=[],f=function(t,e){this.id=t,this.element=e,this.members=[],this._index=-1,this._current=null,d.push(this)},y={length:{configurable:!0},index:{configurable:!0},current:{configurable:!0}},g={selector:{configurable:!0}};f.getGroupById=function(t){for(var e=0,n=d;e<n.length;e+=1){var i=n[e];if(i.constructor===this&&i.id===t)return i}return new this(t)},f.getGroupByElement=function(t){for(var e=0,n=d;e<n.length;e+=1){var i=n[e];if(i.element===t)return i}return new this(!1,t)},f.groupById=function(t,e){var n=t.element.getAttribute(p);null!==n&&e.getGroupById(n).add(t)},f.groupByParent=function(t,e,n){if(void 0===n&&(n=e.selector),""!==n)for(var i=t.element.parentElement;i;){if(i.classList.contains(t.constructor.selector))return;if(i.classList.contains(n))return void e.getGroupByElement(i).add(t);i=i.parentElement}},g.selector.get=function(){return""},f.prototype.add=function(t){if(-1===this.members.indexOf(t))switch(this.members.push(t),t.setGroup(this),!0){case null!==this.current:case!t.disclosed:t.apply(!1,!0);break;default:this._current=t,this._index=this.members.indexOf(t),t.apply(!0,!0)}},y.length.get=function(){return this.members.length},y.index.get=function(){return this._index},y.index.set=function(t){t<-1||t>=this.length||this._index===t||(null!==this.current&&this.current.apply(!1),this._index=t,this._current=this._index>-1?this.members[this._index]:null,null!==this.current&&this.current.apply(!0),this.apply())},y.current.get=function(){return this._current},y.current.set=function(t){this.index=this.members.indexOf(t)},f.prototype.apply=function(){},Object.defineProperties(f.prototype,y),Object.defineProperties(f,g);var m=function(t,e){this.element=t,this.disclosure=e,this.hasAttribute=this.element.hasAttribute(this.disclosure.attributeName),this.element.addEventListener("click",this.click.bind(this)),this.observer=new MutationObserver(this.mutate.bind(this)),this.observe()},b={disclosed:{configurable:!0}};m.prototype.observe=function(){this.observer.observe(this.element,{attributes:!0})},m.prototype.click=function(t){this.disclosure.change(this.hasAttribute)},m.prototype.mutate=function(t){var e=this;t.forEach((function(t){"attributes"===t.type&&t.attributeName===e.disclosure.attributeName&&e.disclosure.change(e.disclosed)}))},m.prototype.apply=function(t){this.hasAttribute&&(this.observer&&this.observer.disconnect(),this.element.setAttribute(this.disclosure.attributeName,t),this.observer&&this.observe())},b.disclosed.get=function(){return"true"===this.element.getAttribute(this.disclosure.attributeName)},Object.defineProperties(m.prototype,b);var v=[],x=function(t){this.element=t,this.id=t.id,this.buttons=[],this.disclosed=null,this._selector=this.constructor.selector,this.modifier=this._selector+"--"+this.type.id,this.attributeName=this.type.aria?"aria-"+this.type.id:e.attr(this.type.id);var n=document.querySelectorAll(this.type.aria?'[aria-controls="'+this.id+'"]':e.attr.selector("controls",this.id));if(n.length>0)for(var i=0;i<n.length;i++)this.addButton(n[i]);this.disclosed=!0===this.disclosed,this.apply(this.disclosed,!0),this.group()},w={type:{configurable:!0},GroupConstructor:{configurable:!0},hasFocus:{configurable:!0}},_={type:{configurable:!0},selector:{configurable:!0}};x.prototype.group=function(){f.groupById(this,this.GroupConstructor),f.groupByParent(this,this.GroupConstructor)},x.build=function(t){for(var e=0,n=Array.prototype.slice.call(t.querySelectorAll("."+this.selector));e<n.length;e+=1){var i=n[e];v.push(new this(i))}},w.type.get=function(){return this.constructor.type},_.type.get=function(){return null},_.selector.get=function(){return""},x.prototype.addButton=function(t){var e=this.buttonFactory(t);e.hasAttribute&&(null===this.disclosed?this.disclosed=e.disclosed:e.apply(this.disclosed)),this.buttons.push(e)},w.GroupConstructor.get=function(){return f},x.prototype.buttonFactory=function(t){return new m(t,this)},x.prototype.disclose=function(){this.disclosed||(void 0!==this.group&&(this.group.current=this),this.apply(!0))},x.prototype.conceal=function(){this.disclosed&&(void 0!==this.group&&(this.group.current=null),this.apply(!1))},x.prototype.apply=function(t,e){this.disclosed=t,t?i(this.element,this.modifier):s(this.element,this.modifier);for(var n=0;n<this.buttons.length;n++)this.buttons[n].apply(t);if(!t)for(var r=0,o=v;r<o.length;r+=1){var u=o[r];u!==this&&this.element.contains(u.element)&&u.reset()}},x.prototype.reset=function(){},x.prototype.change=function(t){if(this.constructor.type.canConceal)switch(!0){case!t:case this.disclosed:this.conceal();break;default:this.disclose()}else this.disclose()},x.prototype.setGroup=function(t){this.group=t},w.hasFocus.get=function(){return this.element===document.activeElement||(this.element.querySelectorAll(":focus").length>0||!!this.buttons.some((function(t){return t.hasFocus})))},x.prototype.focus=function(){for(var t=0;t<this.buttons.length;t++){var e=this.buttons[t];if(e.hasAttribute)return void e.element.focus()}},Object.defineProperties(x.prototype,w),Object.defineProperties(x,_);var E={expand:{id:"expanded",aria:!0,canConceal:!0},select:{id:"selected",aria:!0,canConceal:!1}},O=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={hasFocus:{configurable:!0}};return n.hasFocus.get=function(){return this.element===document.activeElement},Object.defineProperties(e.prototype,n),e}(m),P={},A=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={hasFocus:{configurable:!0}},i={ascendants:{configurable:!0}};return n.hasFocus.get=function(){return void 0===this.current?null:this.current.hasFocus},e.register=function(t,e){P[t]=e},i.ascendants.get=function(){return P},Object.defineProperties(e.prototype,n),Object.defineProperties(e,i),e}(f),F=e("collapse"),C=function(t){function e(e){t.call(this,e),e.addEventListener("transitionend",this.transitionend.bind(this))}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={GroupConstructor:{configurable:!0},buttonHasFocus:{configurable:!0},hasFocus:{configurable:!0}},i={type:{configurable:!0},selector:{configurable:!0}};return e.prototype.group=function(){for(var e in A.ascendants)for(var n=this.element.parentElement;n;){if(n.classList.contains(e))return void("string"==typeof A.ascendants[e]?f.groupByParent(this,A,A.ascendants[e]):f.groupByParent(this,A.ascendants[e]));n=n.parentElement}t.prototype.group.call(this)},n.GroupConstructor.get=function(){return A},e.prototype.buttonFactory=function(t){return new O(t,this)},i.type.get=function(){return E.expand},i.selector.get=function(){return F},e.prototype.transitionend=function(t){this.disclosed||(this.element.style.maxHeight="")},e.prototype.apply=function(e,n){var i=this;e&&(this.element.style.maxHeight="none"),this.element.style.setProperty("--collapser","none");var s=this.element.offsetHeight;this.element.style.setProperty("--collapse",-s+"px"),this.element.style.setProperty("--collapser",""),window.requestAnimationFrame((function(){return t.prototype.apply.call(i,e,n)}))},e.prototype.reset=function(){this.apply(!1)},n.buttonHasFocus.get=function(){return!!this.buttons.some((function(t){return t.hasFocus}))},n.hasFocus.get=function(){return this.element===document.activeElement||(this.element.querySelectorAll(":focus").length>0||this.buttonHasFocus)},Object.defineProperties(e.prototype,n),Object.defineProperties(e,i),e}(x),B=function(t,e){this.selector=t,this.group=e,this.elements=this.group.querySelectorAll(this.selector),this.maxWidth=0,this.changing=this.change.bind(this),window.addEventListener("resize",this.changing),window.addEventListener("load",this.changing)};B.prototype.change=function(){this.reset();for(var t=0;t<this.elements.length;t++){var e=this._getWidth(this.elements[t]);e>this.maxWidth&&(this.maxWidth=e)}this.apply()},B.prototype.apply=function(){for(var t=0;t<this.elements.length;t++)this.elements[t].style.width=this.maxWidth+1+"px"},B.prototype.reset=function(){for(var t=0;t<this.elements.length;t++)this.elements[t].style.width="auto";this.maxWidth=0},B.prototype._getWidth=function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft)+parseInt(n.marginRight)},t.ns=e,t.addClass=i,t.removeClass=s,t.engine=u,t.Initializer=c,t.KeyListener=h,t.Disclosure=x,t.DisclosureButton=m,t.DisclosuresGroup=f,t.DISCLOSURE_TYPES=E,t.Collapse=C,t.CollapseButton=O,t.CollapsesGroup=A,t.Equisized=B;new c("."+F,[function(){C.build(document)}])}();
//# sourceMappingURL=core.nomodule.min.js.map
